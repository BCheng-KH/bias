{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Bias index</title>
	<link rel="stylesheet" type="text/css" href="{% static 'api/thing.css' %}">
</head>
<body>
	<div>
		<h1 id='mainH'>
			BIAS INDEX
		</h1>
		<h4 id='subH'>
			Enter the url of a news article to check how biased it is
		</h4>
	</div>
	
	<!--<div class="">-->
		<canvas id="mycanvas" width="150" hight="150">
			
		</canvas>
		<div class="center">
			<h1 id="index">
				<script>
					const myCanvas = document.getElementById('mycanvas');
					const ctx = myCanvas.getContext("2d");
					const indexnum = document.getElementById('index');

					let index = {{ score }};
					index = index.toFixed(2);
					//change index here


					function componentToHex(c) {
  						var hex = c.toString(16);
  						return hex.length == 1 ? "0" + hex : hex;
					}
					function rgbToHex(r, g, b) {
  						return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
					}

					indexnum.innerText = index;

					ctx.lineWidth = 5;
					ctx.strokeStyle = rgbToHex(Math.floor(155*index/100)+100, Math.floor(155-155*index/100)+100, 0);
					ctx.beginPath();
					ctx.arc(75, 75, 50, -0.5*Math.PI, ((index/100) * 2 * Math.PI - 0.5*Math.PI));
					ctx.stroke();
				</script>
			</h1>
		</div>
	<!--</div>-->
	<script type="text/javascript" src="{% static 'js/bias_results.js' %}"></script>
</body>
</html>