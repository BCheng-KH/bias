{% extends "api/index.html" %}

{% block score %}
	<!--<div class="">-->
		<canvas id="mycanvas" width="150" hight="150">
			
		</canvas>
		<div class="center">
			<h1>{{  message  }}</h1>
			<h1 id="index">
				<script>
					const myCanvas = document.getElementById('mycanvas');
					const ctx = myCanvas.getContext("2d");
					const indexnum = document.getElementById('index');

					let index = {{ score }};
					index = index.toFixed(2);
					//change index here


					function componentToHex(c) {
  						var hex = c.toString(16);
  						return hex.length == 1 ? "0" + hex : hex;
					}
					function rgbToHex(r, g, b) {
  						return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
					}

					indexnum.innerText = index;

					ctx.imageSmoothingEnabled = true;
					ctx.lineWidth = 5;
					ctx.strokeStyle = rgbToHex(Math.floor(155-155*index/100)+100, Math.floor(155*index/100)+100, 0);
					ctx.beginPath();
					ctx.arc(75, 75, 50, -0.5*Math.PI, ((index/100) * 2 * Math.PI - 0.5*Math.PI));
					ctx.stroke();
					
				</script>
			</h1>
		</div>

		<div class="info">
			<b>Author:</b> {{ author }}<br>
			<b>Title:</b> {{ title }}<br>
			<a href="{{ news }}">Original Article Here</a><br>
			<div id="newstext">
				{{ text }}
			</div>
		</div>
	<!--</div>-->

	
{% endblock %}
